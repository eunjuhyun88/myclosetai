# ============================================================================
# MyCloset AI Backend - Python 패키지 의존성
# ============================================================================
# 파일명: backend/requirements.txt
# 설명: 백엔드 Python 패키지 의존성 정의
# 설치명령: pip install -r requirements.txt
# 권장: conda 환경과 함께 사용 (environment.yml 먼저 설치)
# ============================================================================

# ============================================================================
# 🔥 AI/ML 핵심 패키지 (정확한 버전)
# ============================================================================
torch==2.2.2
torchvision==0.17.2
torchaudio==2.2.2
numpy==1.24.3

# ============================================================================
# 🌐 웹 프레임워크 (FastAPI 스택)
# ============================================================================
fastapi==0.104.1
uvicorn[standard]==0.24.0
python-multipart==0.0.6
pydantic==2.5.0
pydantic-settings==2.1.0

# ============================================================================
# 🖼️ 이미지 처리
# ============================================================================
Pillow==10.0.1
opencv-python==4.8.0.76
scikit-image==0.21.0
imageio==2.31.5
imageio-ffmpeg==0.4.9
albumentations==1.3.1

# ============================================================================
# 🤖 AI/ML 모델 라이브러리
# ============================================================================
transformers==4.35.0
diffusers==0.21.4
accelerate==0.24.0
tokenizers==0.14.1
timm==0.9.8
segment-anything==1.0
xformers==0.0.22
controlnet-aux==0.0.7

# CLIP 모델
clip-by-openai==1.0
open-clip-torch==2.23.0

# ONNX 런타임
onnxruntime==1.16.1

# ============================================================================
# 📊 과학 계산 및 데이터 처리
# ============================================================================
scipy==1.11.0
scikit-learn==1.3.0
pandas==2.1.3
matplotlib==3.8.0
seaborn==0.12.2

# ============================================================================
# 🌐 HTTP 및 네트워킹
# ============================================================================
httpx==0.25.0
requests==2.31.0
aiohttp==3.9.0
websockets==12.0
python-socketio==5.10.0

# ============================================================================
# 🗄️ 데이터베이스
# ============================================================================
sqlalchemy==2.0.23
alembic==1.12.1
redis==5.0.1

# ============================================================================
# 🛠️ 유틸리티 및 시스템
# ============================================================================
psutil==5.9.5
python-dotenv==1.0.0
pyyaml==6.0.1
pytz==2023.3
ujson==5.8.0
aiofiles==23.2.1

# ============================================================================
# 🔐 보안 및 인증
# ============================================================================
cryptography==41.0.7
passlib[bcrypt]==1.7.4
python-jose[cryptography]==3.3.0
python-multipart==0.0.6

# ============================================================================
# 📝 로깅 및 모니터링
# ============================================================================
structlog==23.2.0
colorlog==6.7.0

# ============================================================================
# 🚀 성능 최적화
# ============================================================================
numba==0.58.1
cython==3.0.5
memory-profiler==0.61.0
line-profiler==4.1.1

# ============================================================================
# 🧪 테스트 및 개발 도구
# ============================================================================
pytest==7.4.3
pytest-asyncio==0.21.1
pytest-cov==4.1.0
black==23.10.1
isort==5.12.0
mypy==1.7.0
flake8==6.1.0

# ============================================================================
# 📁 파일 처리
# ============================================================================
python-magic==0.4.27

# ============================================================================
# 🔄 비동기 처리
# ============================================================================
asyncio-pool==0.6.0

# ============================================================================
# 🎨 AI 모델 특화 패키지
# ============================================================================
# Hugging Face 허브
huggingface-hub==0.17.3

# Stable Diffusion 관련
omegaconf==2.3.0
safetensors==0.4.0

# ============================================================================
# 📊 메트릭 및 모니터링
# ============================================================================
prometheus-client==0.19.0

# ============================================================================
# 🔧 특수 도구
# ============================================================================
# 모델 최적화
torch-optimizer==0.3.0

# 이미지 품질 평가
lpips==0.1.4

# ============================================================================
# 📄 주의사항 및 설치 가이드
# ============================================================================
#
# 🍎 M3 Max 사용자:
# 1. conda 환경 먼저 생성: conda env create -f environment.yml
# 2. conda activate mycloset-ai-clean
# 3. pip install -r requirements.txt
#
# 🐧 Linux/Windows 사용자:
# 1. Python 3.10.18 설치
# 2. pip install -r requirements.txt
# 3. GPU 드라이버 설치 (CUDA/ROCm)
#
# 🔧 환경 변수 설정:
# export PYTORCH_ENABLE_MPS_FALLBACK=1
# export PYTORCH_MPS_HIGH_WATERMARK_RATIO=0.0
# export DEVICE=mps  # M3 Max
# export DEVICE=cuda  # NVIDIA GPU
# export DEVICE=cpu   # CPU만 사용
#
# 🚨 버전 충돌 해결:
# pip install --force-reinstall --no-deps [패키지명]
#
# ============================================================================